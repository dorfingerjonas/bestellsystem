(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{hTtp:function(t,n,e){"use strict";e.r(n),e.d(n,"PayModule",function(){return m});var i=e("ofXK"),o=e("3Pt+"),c=e("tyNb"),s=e("6NWb"),r=e("wHSu"),a=e("fXoL"),l=e("7ch9"),b=e("hErN"),d=e("Yc8W"),g=e("xKs8");const u=function(){return{color:"var(--dark-gray)"}};function p(t,n){if(1&t){const t=a.Ob();a.Nb(0,"div",8),a.Ub("click",function(){const t=n.$implicit;return t.amount=(t.amount||0)+1}),a.Nb(1,"span",9),a.kc(2),a.Mb(),a.Nb(3,"span",10),a.kc(4),a.Mb(),a.Nb(5,"span",11),a.kc(6),a.Mb(),a.Nb(7,"span",12),a.Ub("click",function(){a.fc(t);const e=n.$implicit;return a.Wb(2).decreaseAmount(e)}),a.Lb(8,"fa-icon",13),a.Mb(),a.Mb()}if(2&t){const t=n.$implicit,e=a.Wb(2);a.Ab(2),a.lc(t.amount||0),a.Ab(2),a.lc(t.name),a.Ab(2),a.mc("",t.price,"\u20ac"),a.Ab(2),a.bc("icon",e.minusIcon)("styles",a.dc(5,u))}}function h(t,n){if(1&t&&(a.Nb(0,"div",6),a.Nb(1,"span"),a.kc(2),a.Mb(),a.jc(3,p,9,6,"div",7),a.Mb()),2&t){const t=n.$implicit;a.Ab(2),a.lc(t.title),a.Ab(1),a.bc("ngForOf",t.items)}}const f=[{path:"",component:(()=>{class t{constructor(t,n,e,i){this.loading=t,this.header=n,this.drinkService=e,this.foodService=i,this.minusIcon=r.c,this.subscriptions=[],this.displayTable=[],this.drinks=[],this.food=[],this.total=0}ngOnInit(){setTimeout(()=>this.header.text="Bezahlen");let t=this.drinkService.drinks.subscribe(t=>{this.drinks=t,this.buildDisplayTable()});this.subscriptions.push(t),t=this.foodService.food.subscribe(t=>{this.food=t,this.buildDisplayTable()}),this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}decreaseAmount(t){t.amount&&t.amount>0&&(t.amount=t.amount-2)}pay(){let t=this.drinks.filter(t=>(t.amount||0)>0).map(t=>t.price*(t.amount||0)),n=this.food.filter(t=>(t.amount||0)>0).map(t=>t.price*(t.amount||0));t=t.length>0?t.reduce((t,n)=>t+n):0,n=n.length>0?n.reduce((t,n)=>t+n):0,this.total=n+t}buildDisplayTable(){this.displayTable=[{title:"alkoholische Getr\xe4nke",items:this.drinks.filter(t=>"alcohol"===t.category)},{title:"alkoholfreie Getr\xe4nke",items:this.drinks.filter(t=>"anti"===t.category)},{title:"Speisen",items:this.food}],this.loading.deactivateLoading()}}return t.\u0275fac=function(n){return new(n||t)(a.Kb(l.a),a.Kb(b.a),a.Kb(d.a),a.Kb(g.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-pay"]],decls:12,vars:6,consts:[["class","category",4,"ngFor","ngForOf"],[1,"button","btn-ok",3,"click"],["id","total"],["id","diff"],[1,"input-wrapper"],["type","number",3,"ngModel","ngModelChange"],[1,"category"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"amount"],[1,"name"],[1,"price"],[1,"minus",3,"click"],[3,"icon","styles"]],template:function(t,n){1&t&&(a.jc(0,h,4,2,"div",0),a.Nb(1,"button",1),a.Ub("click",function(){return n.pay()}),a.kc(2,"Bezahlen"),a.Mb(),a.Nb(3,"span",2),a.kc(4),a.Xb(5,"number"),a.Mb(),a.Nb(6,"span",3),a.kc(7),a.Mb(),a.Nb(8,"div",4),a.Nb(9,"label"),a.kc(10,"Geld erhalten"),a.Mb(),a.Nb(11,"input",5),a.Ub("ngModelChange",function(t){return n.givenMoney=t}),a.Mb(),a.Mb()),2&t&&(a.bc("ngForOf",n.displayTable),a.Ab(4),a.mc("Gesamt: ",a.Yb(5,4,n.total),"\u20ac"),a.Ab(3),a.mc("",(n.givenMoney||0)-n.total,"\u20ac R\xfcckgeld"),a.Ab(4),a.bc("ngModel",n.givenMoney))},directives:[i.j,o.h,o.a,o.e,o.g,s.a],pipes:[i.e],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .category[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%;display:block;background:var(--lighter);font-size:4vw;font-weight:bolder;padding:1% 2%;box-sizing:border-box}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:1%;box-sizing:border-box;font-size:3vw;display:flex;flex-direction:row;z-index:99}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2n-1){background:var(--table-accent)}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:10%;display:flex;justify-content:center}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:flex-start}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{width:10%;display:flex;justify-content:center}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center;z-index:101}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:4vw;height:4vw;background:var(--dark-gray);color:var(--white);display:flex;justify-content:center;align-items:center;border-radius:50%}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{width:80%;margin:15% 10%;transition:all .3s ease-in-out}.input-wrapper[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;margin:0 0 3vh 10%}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 1vh}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.65em;box-shadow:var(--box-shadow);background:transparent;box-sizing:border-box;outline:none;border:none;border-bottom:2px solid #d3d3d3;border-radius:5px;transition:border-color .3s ease-in-out}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}#diff[_ngcontent-%COMP%], #total[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(n){return new(n||t)},imports:[[i.c,c.d.forChild(f),s.b,o.d]]}),t})()}}]);