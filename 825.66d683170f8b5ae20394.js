"use strict";(self.webpackChunkordersystem=self.webpackChunkordersystem||[]).push([[825],{1825:(_,d,s)=>{s.r(d),s.d(d,{PayModule:()=>O});var l=s(8583),c=s(665),u=s(2921),g=s(9577),p=s(9976),n=s(7716),m=s(4471),h=s(6690),f=s(3632),y=s(9785);const C=function(){return{color:"var(--dark-gray)"}};function M(i,a){if(1&i){const t=n.EpF();n.TgZ(0,"div",7),n.NdJ("click",function(o){n.CHM(t);const r=a.$implicit;return n.oxw(2).increaseAmount(o,r)}),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.TgZ(3,"span",9),n._uU(4),n.qZA(),n.TgZ(5,"span",10),n._uU(6),n.qZA(),n.TgZ(7,"span",11),n.NdJ("click",function(){n.CHM(t);const o=a.$implicit;return n.oxw(2).decreaseAmount(o)}),n._UZ(8,"fa-icon",12),n.qZA(),n.qZA()}if(2&i){const t=a.$implicit,e=n.oxw(2);n.xp6(2),n.Oqu(t.amount||0),n.xp6(2),n.Oqu(t.name),n.xp6(2),n.hij("",t.price,"\u20ac"),n.xp6(2),n.Q6J("icon",e.minusIcon)("styles",n.DdM(5,C))}}function P(i,a){if(1&i&&(n.TgZ(0,"div",5),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.YNc(3,M,9,6,"div",6),n.qZA()),2&i){const t=a.$implicit;n.xp6(2),n.Oqu(t.title),n.xp6(1),n.Q6J("ngForOf",t.items)}}const v=[{path:"",component:(()=>{class i{constructor(t,e,o,r){this.loading=t,this.header=e,this.drinkService=o,this.foodService=r,this.minusIcon=p.Kl4,this.subscriptions=[],this.displayTable=[],this.drinks=[],this.food=[],this.total=0}ngOnInit(){setTimeout(()=>this.header.text="Bezahlen");let t=this.drinkService.drinks.subscribe(e=>{this.drinks=e,this.buildDisplayTable()});this.subscriptions.push(t),t=this.foodService.food.subscribe(e=>{this.food=e,this.buildDisplayTable()}),this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}increaseAmount(t,e){["svg","fa-icon","path"].includes(t.target.localName)||(e.amount=(e.amount||0)+1,this.pay())}decreaseAmount(t){t.amount&&t.amount>0&&(t.amount=t.amount-1,this.pay())}pay(){let t=this.drinks.filter(o=>(o.amount||0)>0).map(o=>o.price*(o.amount||0)),e=this.food.filter(o=>(o.amount||0)>0).map(o=>o.price*(o.amount||0));t=t.length>0?t.reduce((o,r)=>o+r):0,e=e.length>0?e.reduce((o,r)=>o+r):0,this.total=e+t}buildDisplayTable(){this.displayTable=[{title:"alkoholische Getr\xe4nke",items:this.drinks.filter(t=>"alcohol"===t.category)},{title:"alkoholfreie Getr\xe4nke",items:this.drinks.filter(t=>"anti"===t.category)},{title:"Speisen",items:this.food}],this.loading.deactivateLoading()}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(m.b),n.Y36(h.r),n.Y36(f.$),n.Y36(y.d))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-pay"]],decls:14,vars:6,consts:[["class","category",4,"ngFor","ngForOf"],["id","total"],["id","diff"],[1,"input-wrapper"],["type","number",3,"ngModel","ngModelChange"],[1,"category"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"amount"],[1,"name"],[1,"price"],[1,"minus",3,"click"],[3,"icon","styles"]],template:function(t,e){1&t&&(n.YNc(0,P,4,2,"div",0),n._UZ(1,"br"),n._UZ(2,"br"),n._UZ(3,"br"),n._UZ(4,"br"),n.TgZ(5,"span",1),n._uU(6),n.ALo(7,"number"),n.qZA(),n.TgZ(8,"span",2),n._uU(9),n.qZA(),n.TgZ(10,"div",3),n.TgZ(11,"label"),n._uU(12,"Geld erhalten"),n.qZA(),n.TgZ(13,"input",4),n.NdJ("ngModelChange",function(r){return e.givenMoney=r}),n.qZA(),n.qZA()),2&t&&(n.Q6J("ngForOf",e.displayTable),n.xp6(6),n.hij("Gesamt: ",n.lcZ(7,4,e.total),"\u20ac"),n.xp6(3),n.hij("",(e.givenMoney||0)-e.total,"\u20ac R\xfcckgeld"),n.xp6(4),n.Q6J("ngModel",e.givenMoney))},directives:[l.sg,c.wV,c.Fj,c.JJ,c.On,g.BN],pipes:[l.JJ],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .category[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%;display:block;background:var(--accent);font-size:4vw;color:var(--dark-gray);font-weight:bolder;padding:1% 2%;box-sizing:border-box}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:3% 1%;box-sizing:border-box;font-size:3.5vw;display:flex;flex-direction:row;z-index:99}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2n-1){background:var(--table-accent)}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{width:10%;display:flex;justify-content:center}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:flex-start}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{width:10%;display:flex;justify-content:center}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center;z-index:101}[_nghost-%COMP%]   .category[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:4vw;height:4vw;background:var(--dark-gray);color:var(--white);display:flex;justify-content:center;align-items:center;border-radius:50%}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{width:80%;margin:15% 10%;transition:all .3s ease-in-out}.input-wrapper[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;margin:0 0 3vh 10%}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 1vh}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.65em;margin-bottom:20%;box-shadow:var(--box-shadow);background:transparent;box-sizing:border-box;outline:none;border:none;border-bottom:2px solid lightgray;border-radius:5px;transition:border-color .3s ease-in-out}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}#total[_ngcontent-%COMP%], #diff[_ngcontent-%COMP%]{text-align:center;font-size:3.2vw}#diff[_ngcontent-%COMP%]{margin-bottom:4%}"]}),i})()}];let O=(()=>{class i{}return i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({factory:function(t){return new(t||i)},imports:[[l.ez,u.Bz.forChild(v),g.uH,c.u5]]}),i})()}}]);